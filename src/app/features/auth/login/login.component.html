<div
  class="min-h-screen bg-linear-to-br from-blue-600 via-indigo-700 to-purple-800 flex items-center justify-center p-4 relative overflow-hidden"
>
  <!-- Decoraciones de fondo (opcional) -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div
      class="absolute -top-40 -right-40 w-80 h-80 bg-white/5 rounded-full blur-3xl"
    ></div>
    <div
      class="absolute -bottom-40 -left-40 w-96 h-96 bg-white/5 rounded-full blur-3xl"
    ></div>
  </div>

  <!-- Card del formulario -->
  <div
    class="relative bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-8 sm:p-10 w-full max-w-md"
  >
    <!-- Logo y Header -->
    <div class="text-center mb-8">
      <div
        class="inline-block p-4 bg-linear-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg mb-4"
      >
        <span class="text-5xl">ğŸª</span>
      </div>
      <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">
        KashFlow POS
      </h1>
      <p class="text-gray-600 text-sm sm:text-base">
        Sistema de Punto de Venta
      </p>
    </div>

    <!-- Formulario -->
    <form (ngSubmit)="iniciarSesion()" class="space-y-5">
      <!-- Email -->
      <div>
        <label
          for="email"
          class="block text-sm font-semibold text-gray-700 mb-2"
        >
          ğŸ“§ Correo ElectrÃ³nico
        </label>
        <input
          id="email"
          type="email"
          [value]="email()"
          (input)="actualizarEmail($event)"
          (keydown)="manejarEnter($event)"
          required
          autocomplete="email"
          placeholder="tu@email.com"
          [disabled]="cargando()"
          class="w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
        />
      </div>

      <!-- Password -->
      <div>
        <label
          for="password"
          class="block text-sm font-semibold text-gray-700 mb-2"
        >
          ğŸ”’ ContraseÃ±a
        </label>
        <div class="relative">
          <input
            id="password"
            [type]="mostrarPassword() ? 'text' : 'password'"
            [value]="password()"
            (input)="actualizarPassword($event)"
            (keydown)="manejarEnter($event)"
            required
            autocomplete="current-password"
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            [disabled]="cargando()"
            class="w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all duration-200 pr-12 disabled:opacity-50 disabled:cursor-not-allowed"
          />
          <button
            type="button"
            (click)="toggleMostrarPassword()"
            [disabled]="cargando()"
            class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
            aria-label="Mostrar u ocultar contraseÃ±a"
          >
            <span class="text-xl">{{ mostrarPassword() ? "ğŸ‘ï¸" : "ğŸ‘ï¸â€ğŸ—¨ï¸" }}</span>
          </button>
        </div>
      </div>

      <!-- Mensaje de Error -->
      @if (error()) {
      <div
        class="bg-red-50 border-l-4 border-red-500 rounded-lg p-4 animate-shake"
      >
        <div class="flex items-start gap-3">
          <span class="text-2xl shrink-0">âš ï¸</span>
          <div>
            <p class="font-semibold text-red-800 text-sm">
              Error de autenticaciÃ³n
            </p>
            <p class="text-red-700 text-xs mt-1">{{ error() }}</p>
          </div>
        </div>
      </div>
      }

      <!-- BotÃ³n Submit -->
      <button
        type="submit"
        [disabled]="cargando() || !email() || !password()"
        class="w-full bg-linear-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed text-white font-bold py-3.5 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2"
      >
        @if (cargando()) {
        <svg
          class="animate-spin h-5 w-5"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          ></path>
        </svg>
        <span>Ingresando...</span>
        } @else {
        <span>Iniciar SesiÃ³n</span>
        <span class="text-lg">â†’</span>
        }
      </button>
    </form>

    <!-- Divisor -->
    <div class="relative my-6">
      <div class="absolute inset-0 flex items-center">
        <div class="w-full border-t border-gray-200"></div>
      </div>
      <div class="relative flex justify-center text-xs">
        <span class="px-3 bg-white text-gray-500"> Â¿Necesitas ayuda? </span>
      </div>
    </div>

    <!-- Info adicional -->
    <div class="text-center space-y-2">
      <p class="text-sm text-gray-600">Contacta al administrador del sistema</p>
      <p class="text-xs text-gray-400">v1.0.0 â€¢ KashFlow POS Â© 2025</p>
    </div>
  </div>
</div>
